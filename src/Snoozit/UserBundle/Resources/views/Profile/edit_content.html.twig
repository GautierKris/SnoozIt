{% trans_default_domain 'FOSUserBundle' %}
<div class="row fos-user-edit-form-head">
    <div class="text-center">
        <h3>Profil Général</h3>
    </div>
</div>
<div class="row fos-user-edit-form-body">
    <div class="col-lg-12 form-content">
        <form action="{{ path('fos_user_profile_edit') }}" method="POST" {{ form_enctype(form) }} class="fos_user_profile_edit form-horizontal" id="fos_user_profile_edit">

            {{ form_errors(form) }}

            <div class="form-group">
                <label for="inputUsername" class="col-lg-3 control-label">Identité réelle</label>
                <div class="col-lg-9">
                    <div class="row select_join">
                        <div class="col-lg-4">
                            {{ form_widget(form.firstname,{'attr' : {'class':'form-control input-sm', 'Placeholder' : 'John'}}) }}
                        </div>
                        <div class="col-lg-4 ">
                            {{ form_widget(form.name,{'attr' : {'class':'form-control input-sm', 'Placeholder' : 'Doe'}}) }}
                        </div>
                        <div class="col-lg-4 has-error ">
                            {{ form_errors(form.firstname) }}
                            {{ form_errors(form.name) }}
                        </div>
                    </div>
                </div>
            </div>

            {% if form_errors(form.email)|length > 0 %}{% set errors_email = 'has-error' %}{% else %} {% set errors_email = NULL %}{% endif %}
            <div class="form-group">
                <label for="inputUsername" class="col-lg-3 control-label">Adresse email</label>
                <div class="col-lg-6  {{ errors_email }}">
                    {{ form_widget(form.email,{'attr' : {'class':'form-control input-sm'}})}}
                    {% if(errors_email) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>
                <div class="has-error col-md-3">
                    {{ form_errors(form.email) }}
                </div>
            </div>

            <div class="form-group select_join ">
                <label for="select" class="col-lg-3 control-label">Date de naissance</label>
                <div class="col-lg-2">
                    {{ form_widget(form.age.day,{'attr':{'class':'form-control input-sm'}}) }}

                </div>
                <div class="col-lg-2">
                    {{ form_widget(form.age.month,{'attr':{'class':'form-control input-sm'}}) }}

                </div>
                <div class="col-lg-2">
                    {{ form_widget(form.age.year,{'attr':{'class':'form-control input-sm'}}) }}
                </div>
            </div>

            <div class="form-group">
                <label for="inputUsername" class="col-lg-3 control-label">Téléphone</label>
                <div class="col-lg-3">
                    {{ form_widget(form.phone,{'attr' : {'class':'form-control input-sm'}}) }}
                </div>
                <div class="col-lg-3">
                    <div class="checkbox">
                        <label>
                            {{ form_widget(form.showphone) }}
                            Toujours afficher
                        </label>
                    </div>
                </div>
                <div class="col-lg-3 has-error ">
                    {{ form_errors(form.phone) }}
                </div>
            </div>

            <div class="form-group">
                <label for="inputUsername" class="col-lg-3 control-label">Un petit mot pour la fin</label>
                <div class="col-lg-6">
                    {{ form_widget(form.finalword,{'attr' : {'class':'form-control input-sm'}}) }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-6 col-md-offset-3">
                    <hr/>
                </div>
            </div>

            <div class="form-group validation">
                {% if form_errors(form.current_password)|length > 0 %}{% set errors_current_password = 'has-error' %}{% else %} {% set errors_current_password = NULL %}{% endif %}

                <label for="inputUsername" class="col-lg-3 control-label">Mot de passe</label>
                <div class="col-lg-6 {{ errors_current_password }}">
                    {{ form_widget(form.current_password,{'attr' : {'class':'form-control input-sm', 'placeholder': 'Votre mot de passe'}})}}
                </div>
                <div class="col-lg-3 has-error ">
                    {{ form_errors(form.current_password)}}

                </div>
            </div>
            {{ form_rest(form) }}
            <div class="text-center col-md-offset-4 col-md-4">
                <br/>
                <input type="submit" class="btn btn-primary btn-xs btn-rounded btn-block" value="{{ 'profile.edit.submit'|trans }}" />
            </div>
        </form>
    </div>
</div>
